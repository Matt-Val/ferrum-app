/* --- TARJETAS (Fondo blanco) --- */
.quotations-list, .quotation-form {
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    width: 100%;
}

/* --- BARRA DE BÚSQUEDA --- */
.search-bar { 
    display: flex; 
    gap: 40px;
    margin-bottom: 30px; 
    background: #f8fafc;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
}

.search-bar input {
    width: 100%;
    padding: 12px;
    border: 1px solid #cbd5e1;
    border-radius: 6px;
    font-size: 1rem;
    background: white;
}

/* --- TABLA DE LISTADO --- */
.quotations-table { 
    width: 100%; 
    border-collapse: collapse; 
    margin-top: 10px; 
    table-layout: fixed;
}

.quotations-table th { 
    text-align: left; 
    padding: 15px;
    background: #fff7ed; 
    color: #9a3412; 
    font-size: 0.85rem; 
    text-transform: uppercase; 
    border-bottom: 2px solid #fdba74;
}

.quotations-table td { 
    padding: 15px;
    border-bottom: 1px solid #e2e8f0;
    vertical-align: middle;
}

/*--- (Formulario y Tabla de Items) --- */
.items-table-container { margin-bottom: 20px; border: 1px solid #fed7aa; border-radius: 8px; overflow: hidden; }
.items-table { width: 100%; border-collapse: collapse; background: white; }
.items-table th { background-color: #ffedd5; color: #9a3412; text-transform: uppercase; font-size: 0.75rem; padding: 12px; text-align: left; border-bottom: 2px solid #fdba74; }
.items-table td { padding: 8px; border-bottom: 1px solid #f1f5f9; }
.input-cell { width: 100%; border: 1px solid transparent; padding: 6px; background: transparent; }
.input-cell:focus { background: white; border-color: #ea580c; outline: none; }
.btn-add { display: flex; align-items: center; justify-content: center; gap: 8px; background: white; color: #ea580c; border: 1px dashed #ea580c; padding: 10px; width: 100%; border-radius: 6px; font-weight: bold; cursor: pointer; margin-top: 10px;}
.btn-delete { background: none; border: none; color: #94a3b8; cursor: pointer; }
.btn-delete:hover { color: #dc2626; }

/* TOTALES */
.totals-section { display: flex; justify-content: flex-end; margin-top: 20px; }
.totals-box { width: 300px; padding: 15px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0; }
.totals-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
.totals-row.final { font-weight: bold; color: #ea580c; border-top: 2px solid #ea580c; padding-top: 10px; margin-top: 5px; font-size: 1.2rem; }

/* BOTONES GENERALES */
.btn-primary { background: #ea580c; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: bold; cursor: pointer; }
.btn-secondary { background: white; color: #334155; border: 1px solid #cbd5e1; padding: 8px 16px; border-radius: 6px; font-weight: bold; cursor: pointer; }

/* Cabecera Formulario */
.excel-header { text-align: center; border-bottom: 3px solid #ea580c; margin-bottom: 20px; }
.excel-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 20px; background: #fff7ed; padding: 20px; border-radius: 8px; border: 1px solid #fed7aa; }
.form-group { margin-bottom: 10px; }
.form-group label { display: block; font-weight: bold; color: #9a3412; margin-bottom: 5px; }
.form-group input { width: 100%; padding: 8px; border: 1px solid #cbd5e1; border-radius: 4px; }

/* --- SECCIÓN DE TOTALES EN CUADRÍCULA --- */
.totals-section {
    display: flex;
    justify-content: flex-end; 
    margin-top: 30px;
}

.totals-grid {
    display: grid;
    grid-template-columns: 120px 180px; /* Columna Izq (Etiqueta) | Columna Der (Valor) */
    border: 1px solid #fed7aa;
    border-radius: 8px;
    overflow: hidden; /* Para que las esquinas redondeadas funcionen */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
}

/* Celdas de ETIQUETA (Izquierda) */
.total-label {
    background-color: #fff7ed; /* Fondo crema/naranja muy suave */
    color: #9a3412;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.85rem;
    padding: 12px 15px;
    border-bottom: 1px solid #fed7aa;
    border-right: 1px solid #fed7aa;
    display: flex;
    align-items: center;
}

/* Celdas de VALOR (Derecha) */
.total-value {
    background-color: white;
    color: #334155;
    font-size: 1rem;
    padding: 12px 15px;
    text-align: right;
    border-bottom: 1px solid #fed7aa;
    font-variant-numeric: tabular-nums;
}

/* Estilos especiales para la última fila */
.total-label.final, .total-value.final {
    background-color: #ea580c;
    color: white;
    border-bottom: none;
    font-size: 1.1rem;
}

.total-value.final {
    font-weight: bold;
}

/* --- VERSIÓN MÓVIL (RESPONSIVE) --- */
@media (max-width: 768px) {
    
    /* 1. Ajustes generales de espacio */
    .container {
        padding: 15px; /* Menos relleno en los bordes */
    }

    /* 2. Barra de Búsqueda: Uno debajo del otro */
    .search-bar {
        flex-direction: column;
        align-items: stretch !important; /* Estirar a todo el ancho */
        gap: 15px;
    }

    .search-bar > div:first-child {
        margin-right: 0 !important; /* Quitamos el margen derecho forzado */
        width: 100%;
        flex: none !important; /* Evita que flex cause desbordamiento */
    }

    .search-bar input {
        width: 100% !important;
        box-sizing: border-box; /* Incluye padding en el ancho total */
        max-width: 100%;
    }

    .search-bar .btn-primary, 
    .search-bar .btn-secondary {
        width: 100%; /* Botones grandes fáciles de tocar */
        justify-content: center;
    }
    
    .search-bar > div:last-child {
        display: flex;
        flex-direction: column; /* Botones uno bajo el otro */
        width: 100%;
        gap: 10px;
    }

    /* 3. Formulario: Una sola columna */
    .excel-grid {
        grid-template-columns: 1fr; /* Colapsar a 1 columna */
        gap: 15px;
    }

    .col-left, .col-right {
        padding-right: 0;
        border-right: none; /* Quitar línea divisoria si existía */
    }

    /* 4. Tabla Deslizable */
    .table-responsive {
        width: 100%;
        overflow-x: auto; /* Permite deslizar el dedo si la tabla es ancha */
        -webkit-overflow-scrolling: touch; /* Suavidad en iPhone */
        margin-bottom: 20px;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
    }

    .quotations-table {
        min-width: 600px; /* Fuerza el ancho para que aparezca el scroll */
    }

    /* 5. Totales */
    .totals-section {
        justify-content: center; /* Centrar totales */
    }
    
    .totals-grid {
        width: 100%; /* Que ocupe todo el ancho */
        grid-template-columns: 1fr 1fr; /* Mitad y mitad */
    }

    /* 6. Botones del Formulario (Guardar/Volver) */
    .quotation-form > div:last-child {
        flex-direction: column-reverse; /* Guardar arriba, Volver abajo */
        gap: 15px;
    }

    .quotation-form > div:last-child button {
        width: 100%;
        justify-content: center;
        padding: 15px; /* Más grandes para dedos */
    }

    /* 7. Modal del PDF */
    iframe {
        height: 60vh !important; /* Un poco más pequeño en altura */
    }
}